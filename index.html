<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>Paddle Quest - Ultra Mobile Update</title>

<!-- Lilita One font -->
<link href="https://fonts.googleapis.com/css2?family=Lilita+One&display=swap" rel="stylesheet" />

<style>
  /* Reset & base */
  * {
    box-sizing: border-box;
  }
  body, html {
    margin: 0; padding: 0;
    height: 100%;
    background: linear-gradient(135deg, #3a1c71, #d76d77, #ffaf7b);
    font-family: 'Lilita One', cursive;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow: hidden;
    color: white;
  }
  #gameContainer {
    width: 100vw;
    height: 100vh;
    max-width: 480px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    align-items: center;
    user-select: none;
  }

  h1 {
    font-weight: normal;
    font-size: 2.4rem;
    margin: 10px 0 0 0;
    text-align: center;

    /* Cross-browser stroke with fallback */
    color: white;
    -webkit-text-stroke: 1.5px black;
   
    text-shadow:
      2px 2px 0 black,
      -2px -2px 0 black,
      2px -2px 0 black,
      -2px 2px 0 black,
      0 0 5px black;
  }

  #scoreBoard {
    font-weight: normal;
    font-size: 1.4rem;
    margin-top: 6px;
    text-align: center;

    color: white;
    -webkit-text-stroke: 1px black;
  
    text-shadow:
      1.5px 1.5px 0 black,
      -1.5px -1.5px 0 black,
      1.5px -1.5px 0 black,
      -1.5px 1.5px 0 black,
      0 0 4px black;
  }

  /* Canvas styling */
  #gameCanvas {
    background: linear-gradient(180deg, #1e1e2f 0%, #121229 100%);
    border-radius: 15px;
    box-shadow:
      0 0 15px #4db6ac,
      inset 0 0 10px #80cbc4;
    touch-action: none;
  }

  /* Controls container */
  #mobileControls {
    width: 100%;
    max-width: 480px;
    padding: 0 20px 15px 20px;
    display: flex;
    justify-content: space-between;
    user-select: none;
  }

  /* Arrow buttons style */
  .controlBtn {
    background: rgba(255, 255, 255, 0.15);
    border: 3px solid #26a69a;
    color: #ffffff;
    font-size: 2.4rem;
    padding: 14px 22px;
    border-radius: 12px;
    box-shadow:
      0 4px 6px rgba(0, 0, 0, 0.3),
      inset 0 0 6px #26a69a;
    transition: background-color 0.25s ease, box-shadow 0.25s ease;
  }
  .controlBtn:active {
    background: #26a69a;
    box-shadow:
      0 0 15px #26a69a,
      inset 0 0 10px #4db6ac;
    color: #000;
  }

  /* Instructions text */
  #instructions {
    font-weight: normal;
    font-size: 1rem;
    margin: 0 0 10px 0;
    color: #e0e0e0;
    -webkit-text-stroke: 0.6px black;
    
    text-shadow:
      1px 1px 0 black,
      -1px -1px 0 black,
      1px -1px 0 black,
      -1px 1px 0 black,
      0 0 3px black;
    opacity: 0.85;
  }
</style>
</head>

<body>

<div id="gameContainer">
  <h1>Paddle Quest</h1>
  <div id="scoreBoard">Score: 0 | High Score: 0</div>
  <canvas id="gameCanvas" width="360" height="600" aria-label="Game canvas"></canvas>
  <div id="instructions">Use the arrow buttons below to move the paddle.</div>
  <div id="mobileControls">
    <button id="leftBtn" class="controlBtn" aria-label="Move paddle left">←</button>
    <button id="rightBtn" class="controlBtn" aria-label="Move paddle right">→</button>
  </div>
</div>

<script>
  const canvas = document.getElementById('gameCanvas');
  const ctx = canvas.getContext('2d');

  const scoreBoard = document.getElementById('scoreBoard');
  const leftBtn = document.getElementById('leftBtn');
  const rightBtn = document.getElementById('rightBtn');

  // Game dimensions and controls
  const paddleHeight = 12;
  const paddleWidth = 90;
  let paddleX = (canvas.width - paddleWidth) / 2;

  const ballRadius = 10;
  let ballX = canvas.width / 2;
  let ballY = 50;
  let dx = 3;
  let dy = 3;

  let rightPressed = false;
  let leftPressed = false;

  let score = 0;
  let highScore = localStorage.getItem('paddleQuestHighScore') || 0;
  scoreBoard.textContent = `Score: ${score} | High Score: ${highScore}`;

  // Listen for keyboard events
  document.addEventListener('keydown', e => {
    if (e.key === 'ArrowRight') rightPressed = true;
    if (e.key === 'ArrowLeft') leftPressed = true;
  });
  document.addEventListener('keyup', e => {
    if (e.key === 'ArrowRight') rightPressed = false;
    if (e.key === 'ArrowLeft') leftPressed = false;
  });

  // Touch controls
  leftBtn.addEventListener('touchstart', e => { e.preventDefault(); leftPressed = true; });
  leftBtn.addEventListener('touchend', e => { e.preventDefault(); leftPressed = false; });
  rightBtn.addEventListener('touchstart', e => { e.preventDefault(); rightPressed = true; });
  rightBtn.addEventListener('touchend', e => { e.preventDefault(); rightPressed = false; });

  function drawPaddle() {
    ctx.beginPath();
    ctx.rect(paddleX, canvas.height - paddleHeight - 20, paddleWidth, paddleHeight);
    ctx.fillStyle = '#26a69a'; // turquoise color
    ctx.shadowColor = '#1b7a74';
    ctx.shadowBlur = 10;
    ctx.fill();
    ctx.closePath();
  }

  function drawBall() {
    ctx.beginPath();
    ctx.arc(ballX, ballY, ballRadius, 0, Math.PI * 2);
    ctx.fillStyle = '#ff7043'; // coral orange
    ctx.shadowColor = '#bf360c';
    ctx.shadowBlur = 15;
    ctx.fill();
    ctx.closePath();
  }

  function drawScore() {
    scoreBoard.textContent = `Score: ${score} | High Score: ${highScore}`;
  }

  function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    drawPaddle();
    drawBall();
    drawScore();

    // Ball movement
    ballX += dx;
    ballY += dy;

    // Bounce from left and right walls
    if (ballX + dx > canvas.width - ballRadius || ballX + dx < ballRadius) {
      dx = -dx;
    }
    // Bounce from top
    if (ballY + dy < ballRadius) {
      dy = -dy;
    } else if (ballY + dy > canvas.height - paddleHeight - 20 - ballRadius) {
      // Check paddle collision
      if (ballX > paddleX && ballX < paddleX + paddleWidth) {
        dy = -dy;
        score++;
        if (score > highScore) {
          highScore = score;
          localStorage.setItem('paddleQuestHighScore', highScore);
        }
      } else {
        // Game Over - reset game
        score = 0;
        ballX = canvas.width / 2;
        ballY = 50;
        dx = 3;
        dy = 3;
      }
    }

    // Paddle movement
    if (rightPressed && paddleX < canvas.width - paddleWidth) {
      paddleX += 7;
    }
    if (leftPressed && paddleX > 0) {
      paddleX -= 7;
    }

    requestAnimationFrame(draw);
  }

  draw();
</script>

</body>
</html>
